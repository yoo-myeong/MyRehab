{% extends 'base.html' %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'rehab.css' %}">

<form action="{% url 'rehab:my_manage' %}" method = "post">
    {% csrf_token %}
    <div class = "modal hidden">
        <input type="hidden" name="step" value={{step}}>
        <input type="hidden" name="part" value={{part}}>
        <div class = "modal_overlay"></div>
        <div class="modal_content">
            <h1>기록관리 페이지로 이동하겠습니다</h1>
            <button type="submit">YES</button>
        </div>
    </div>
</form>

<!--context의 part & step 입력-->
<h1 class="part hidden">{{part}}</h1>
<h1 class="step hidden">{{step}}</h1>

<div class="wrap">
    <div class = "wrap_left">
        <button class="start_button" type="button" onclick="init()">Start</button>
        <canvas id="canvas"></canvas>
        <div class="dot-circle">
            0
        </div>
    </div>
    <div class="wrap_middle">
        <img id="rehabImg" src="{% static 'img/ready.jpg/' %}">
        <h1 style="font-family: 'HSYuji-Regular';">그림에 나오는 동작을 따라해주세요</h1>
    </div>
    <div class="wrap_right">
        <div class="dot-wrapper-wrpper">
            <div class="dot-wrapper">
                <div class="dot 3" id ="dot3"></div>
                <div class="dot 7" id ="dot7"></div>
                <div class="dot 11" id ="dot11"></div>
                <div class="dot 15" id ="dot15"></div>
                <div class="dot 19" id ="dot19"></div>
                <div class="dot 23" id ="dot23"></div>
            </div>
            <div class="dot-wrapper">
                <div class="dot 2" id ="dot2"></div>
                <div class="dot 6" id ="dot6"></div>
                <div class="dot 10" id ="dot10"></div>
                <div class="dot 14" id ="dot14"></div>
                <div class="dot 18" id ="dot18"></div>
                <div class="dot 22" id ="dot22"></div>
            </div>
            <div class="dot-wrapper">
                <div class="dot 1" id ="dot1"></div>
                <div class="dot 5" id ="dot5"></div>
                <div class="dot 9" id ="dot9"></div>
                <div class="dot 13" id ="dot13"></div>
                <div class="dot 17" id ="dot17"></div>
                <div class="dot 21" id ="dot21"></div>
            </div>
            <div class="dot-wrapper">
                <div class="dot 0" id ="dot0"></div>
                <div class="dot 4" id ="dot4"></div>
                <div class="dot 8" id ="dot8"></div>
                <div class="dot 12" id ="dot12"></div>
                <div class="dot 16" id ="dot16"></div>
                <div class="dot 20" id ="dot20"></div>
            </div>
        </div>
        <h1 style="font-family: 'HSYuji-Regular';">스마트매트의 상태를 확인하여</h1>
        <h1 style="font-family: 'HSYuji-Regular';">내 몸의 균형을 체크하면서 진행하세요</h1>
    </div>

</div>



<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>
<script src= "{% static 'Tensorflow.js' %}"></script>
<script src= "{% static 'modal.js' %}"></script>


<!--firebase CDN-->
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
<script src= "{% static 'rehab_firebase.js' %}"></script>

{% endblock %}